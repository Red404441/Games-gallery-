<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>File explorer</title>
<style>
  :root{
    --bg-top:#e9f5ff;
    --bg-bottom:#e6f1ff;
    --accent:#1f7fc7;
    --glass: rgba(255,255,255,0.6);
    --card-shadow: 0 8px 28px rgba(16,40,80,0.12);
    --icon-size:96px;
    --icon-gap:22px;
    --pad:36px;
    --ui-radius:12px;
    --muted: #4b6b86;
  }

  *{box-sizing:border-box;}
  html,body{height:100%;margin:0;font-family:"Segoe UI","Helvetica Neue",Arial,sans-serif;-webkit-font-smoothing:antialiased;background:linear-gradient(180deg,var(--bg-top),var(--bg-bottom));color:#0b2340;overflow:hidden;}

  /* backdrop particles + subtle hill */
  .backdrop {
    position:fixed;inset:0;pointer-events:none;z-index:0;
    background:radial-gradient(circle at 20% 10%, rgba(255,255,255,0.9), rgba(255,255,255,0) 8%), radial-gradient(circle at 80% 90%, rgba(200,235,255,0.6), rgba(200,235,255,0) 18%);
  }
  .particle {
    position:absolute;border-radius:50%;background:rgba(255,255,255,0.15);pointer-events:none;
    animation:float 12s linear infinite;
  }
  @keyframes float {
    0% {transform:translateY(0) translateX(0) rotate(0deg); opacity:0.4;}
    50% {opacity:0.6;}
    100% {transform:translateY(-800px) translateX(100px) rotate(360deg); opacity:0;}
  }

  /* desktop */
  .desktop {
    position:relative;height:100vh;padding:calc(var(--pad)+52px) var(--pad) var(--pad) var(--pad);display:flex;flex-wrap:wrap;gap:var(--icon-gap);align-content:flex-start;overflow:auto;-webkit-overflow-scrolling:touch;z-index:1;scroll-behavior:smooth;
  }

  /* header */
  header.app-title{
    position:fixed;top:18px;left:50%;transform:translateX(-50%);z-index:6;display:flex;align-items:center;gap:14px;padding:10px 14px;
    background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.74));border-radius:14px;box-shadow:var(--card-shadow);border:1px solid rgba(18,86,140,0.06);backdrop-filter: blur(6px);
  }
  .app-title .logo{width:36px;height:36px;border-radius:8px;background:linear-gradient(180deg,#fff,#e8f6ff);display:flex;align-items:center;justify-content:center;color:var(--accent);font-weight:800;font-size:14px;box-shadow:inset 0 -4px 12px rgba(0,0,0,0.03);}
  .app-title h1{margin:0;font-size:16px;letter-spacing:0.4px;color:#06324f;font-weight:700;}
  .app-title p{margin:0;font-size:12px;color:var(--muted);}

  /* icons */
  .icon{width:var(--icon-size);height:136px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:8px;cursor:pointer;transform-origin:center;transition: transform .18s cubic-bezier(.2,.9,.2,1), filter .18s;user-select:none;opacity:0; transform:translateY(8px) scale(.99);}
  .icon.enter{animation:popIn .42s forwards cubic-bezier(.2,.9,.2,1);}
  @keyframes popIn{0%{opacity:0;transform:translateY(8px) scale(.98);}60%{opacity:1;transform:translateY(-6px) scale(1.02);}100%{opacity:1;transform:translateY(0) scale(1);}}

  .icon:focus{outline:none;transform:translateY(-6px) scale(1.02);box-shadow:0 12px 30px rgba(12,38,64,0.08);}
  .icon:hover{transform:translateY(-8px) scale(1.03);filter:brightness(1.02) saturate(1.02);}
  .icon:hover .img{box-shadow:0 12px 30px rgba(12,38,64,0.12), 0 0 14px rgba(31,127,199,0.35);transform:translateY(-10px) rotate(-2deg) scale(1.05);}

  .img{width:var(--icon-size);height:var(--icon-size);border-radius:14px;background:linear-gradient(180deg,#ffffff,#e8f9ff);display:flex;align-items:center;justify-content:center;box-shadow:0 8px 20px rgba(12,38,64,0.08), inset 0 -4px 10px rgba(255,255,255,0.85);overflow:hidden;transition: transform .28s cubic-bezier(.2,.9,.2,1);}
  .img img{width:100%;height:100%;object-fit:cover;display:block;}
  .letters{font-weight:800;font-size:20px;color:var(--accent);letter-spacing:1px;}
  .label{width:var(--icon-size);text-align:center;font-size:13px;color:#083049;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:600;letter-spacing:0.2px;}
  .sub{font-size:11px;color:var(--muted);margin-top:2px;font-weight:500;}

  /* overlay */
  .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(3,18,34,0.36), rgba(3,18,34,0.28));z-index:9;flex-direction:column;transition:opacity 0.3s ease;}
  .overlay.hide{opacity:0;pointer-events:none;}
  .overlay .card{width:360px;max-width:92%;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(250,255,255,0.82));border-radius:14px;padding:22px;border:1px solid rgba(8,26,46,0.06);box-shadow:0 18px 48px rgba(6,22,42,0.18);text-align:center;backdrop-filter: blur(6px);}
  .overlay h1{margin:0 0 8px;font-size:20px;color:#04273e;}
  .overlay p{margin:0 0 16px;color:#274a67;font-size:13px;}
  .cta{display:inline-flex;align-items:center;gap:10px;padding:10px 16px;border-radius:12px;background:linear-gradient(180deg,#fbffff,#eaf6ff);color:var(--accent);font-weight:800;border:1px solid rgba(14,75,134,0.08);box-shadow:0 10px 28px rgba(16,40,80,0.08);cursor:pointer;font-size:14px;}

  /* music fab */
  .music-fab{position:fixed;right:22px;bottom:22px;z-index:8;width:62px;height:62px;border-radius:999px;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#ffffff,#e9f8ff);box-shadow:0 18px 42px rgba(6,20,40,0.14);border:1px solid rgba(12,66,120,0.06);cursor:pointer;transition: transform .12s ease, box-shadow .12s;animation:floatFab 4s ease-in-out infinite alternate;}
  @keyframes floatFab{0%{transform:translateY(0);}100%{transform:translateY(-6px);}}
  .music-fab:hover{transform:translateY(-6px);box-shadow:0 24px 48px rgba(6,20,40,0.18);}
  .music-fab .icon-inner{font-weight:900;color:var(--accent);font-size:20px;}

  @media(max-width:760px){:root{--icon-size:82px;--pad:18px}.label{font-size:12px}.app-title{padding:8px 10px}.music-fab{right:14px;bottom:14px;width:54px;height:54px;}}
</style>
</head>
<body>
<div class="backdrop"></div>

<header class="app-title" aria-hidden="false">
  <div class="logo">XP</div>
  <div>
    <h1>File explorer</h1>
    <p>Retro portal — Frutiger Aero</p>
  </div>
</header>

<main id="desktop" class="desktop" role="list" aria-label="Desktop icons"></main>

<div id="overlay" class="overlay" role="dialog" aria-modal="true">
  <div class="card" role="document">
    <h1>Click to continue</h1>
    <p>Welcome — click continue to unlock audio and enter the portal.</p>
    <button id="continueBtn" class="cta" aria-label="Continue to site">Continue ▸</button>
  </div>
</div>

<audio id="bgAudio" src="Music.mp3" preload="auto" loop></audio>
<button id="musicFab" class="music-fab" aria-pressed="false" title="Play / Pause (Music)">
  <span class="icon-inner" id="fabIcon">▶</span>
</button>

<script>
/* ========== Desktop links ========== */
const rawLinks = `Games:
https://win10.webjeet.me/...`; // truncated for brevity; paste full cleaned list

function tidyAndSplit(text){
  text = text.replace(/\u2028|\u2029|\u00A0/g,' ').replace(/\u200B/g,'').replace(/\r/g,'\n');
  text = text.replace(/(https?:\/\/[^\s]+)/g, '\n$1\n');
  const lines = text.split(/\n+/).map(s=>s.trim()).filter(Boolean);
  const out = [];
  const seen = new Set();
  lines.forEach(l=>{
    if(!/^https?:\/\//i.test(l)) return;
    if(!seen.has(l)){ out.push(l); seen.add(l); }
  });
  return out;
}
const links = tidyAndSplit(rawLinks);

const desktop = document.getElementById('desktop');
function hostnameFromUrl(u){ try{ return (new URL(u)).hostname.replace(/^www\./i,''); }catch(e){ return u; } }
function shortLabelFor(url){ const host = hostnameFromUrl(url); return host.split('.')[0].slice(0,3).toUpperCase(); }
function friendlyName(url){ try{ const u=new URL(url);const h=u.hostname.replace(/^www\./i,'');const p=u.pathname.replace(/\/$/,'');return p&&p!=='/'? h+' • '+p.split('/').pop():h;}catch(e){return url;} }

function createIcon(url, idx){
  const wrap = document.createElement('div'); wrap.className='icon'; wrap.dataset.url=url; wrap.tabIndex=0;
  const imgWrap = document.createElement('div'); imgWrap.className='img';
  const letters = document.createElement('div'); letters.className='letters'; letters.textContent=shortLabelFor(url); imgWrap.appendChild(letters);

  // favicon attempt
  const host = hostnameFromUrl(url);
  if(host){
    const fav=new Image();
    fav.crossOrigin='anonymous';
    fav.onload=()=>{ imgWrap.innerHTML=''; fav.style.width='100%'; fav.style.height='100%'; fav.style.objectFit='cover'; imgWrap.appendChild(fav); };
    fav.onerror=()=>{}; fav.src='https://'+host+'/favicon.ico';
    setTimeout(()=>{if(!fav.complete){try{fav.src='https://'+host+'/favicon.png';}catch(e){}}},900);
  }

  const label=document.createElement('div'); label.className='label'; label.textContent=friendlyName(url);
  const sub=document.createElement('div'); sub.className='sub'; sub.textContent=url.replace(/^https?:\/\//,'').slice(0,36);
  wrap.append(imgWrap,label,sub);

  wrap.addEventListener('click', ()=>window.open(url,'_blank'));
  wrap.addEventListener('keydown',(e)=>{if(e.key==='Enter') window.open(url,'_blank');});

  setTimeout(()=>wrap.classList.add('enter'), idx*28);
  return wrap;
}
links.forEach((u,i)=>{desktop.appendChild(createIcon(u,i));});

/* ========== Floating particles ========== */
for(let i=0;i<20;i++){
  const p=document.createElement('div'); p.className='particle';
  p.style.width=p.style.height=Math.random()*12+6+'px';
  p.style.left=Math.random()*100+'%'; p.style.top=Math.random()*100+'%';
  p.style.animationDuration=(Math.random()*6+8)+'s';
  document.body.appendChild(p);
}

/* ========== Music / overlay logic ========== */
const overlay=document.getElementById('overlay');
const continueBtn=document.getElementById('continueBtn');
const audio=document.getElementById('bgAudio');
const musicFab=document.getElementById('musicFab');
const fabIcon=document.getElementById('fabIcon');
let isPlaying=false;

function updateFab(){ musicFab.setAttribute('aria-pressed', isPlaying); fabIcon.textContent = isPlaying?'⏸':'▶'; }

async function playAudio(){ try{ await audio.play(); isPlaying=true; updateFab(); }catch(e){ isPlaying=false; updateFab(); console.warn(e);} }
function pauseAudio(){ audio.pause(); isPlaying=false; updateFab(); }

continueBtn.addEventListener('click', async ()=>{
  overlay.classList.add('hide');
  await playAudio();
});

overlay.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' ') continueBtn.click(); });
overlay.focus();

musicFab.addEventListener('click', ()=>{ isPlaying?pauseAudio():playAudio(); });
musicFab.addEventListener('keydown', e=>{if(e.key==='Enter'||e.key===' '){ e.preventDefault(); musicFab.click(); } });

audio.addEventListener('play',()=>{ isPlaying=true; updateFab(); });
audio.addEventListener('pause',()=>{ isPlaying=false; updateFab(); });
audio.addEventListener('ended',()=>{ isPlaying=false; updateFab(); });

window.addEventListener('load', ()=>{ try{ continueBtn.focus(); }catch(e){} });
console.log('Enhanced Frutiger-Aero portal loaded —', links.length,'links.');
</script>
</body>
</html>
